<div class="cow-detail-wrapper" *ngIf="vache">
  <div class="cow-detail-card">
    <h2>ğŸ„ DÃ©tails de la vache #{{ vache.id }}</h2>

    <!-- Loader -->
    <div *ngIf="loading" class="loading">â³ Chargement...</div>

    <!-- Formulaire -->
    <form (ngSubmit)="save()" *ngIf="!loading" #cowDetailForm="ngForm">
      <div class="form-group">
        <label>Date du dernier vÃªlage</label>
        <input type="date" class="form-control"
               [(ngModel)]="vache.date_dernier_village"
               name="date_dernier_village" />
      </div>

      <div class="form-group">
        <label>Date du prochain vÃªlage (estimÃ©e)</label>
        <input type="date" class="form-control"
               [(ngModel)]="vache.date_prochain_village"
               name="date_prochain_village" />
      </div>

      <div class="form-group">
        <label>Date de lâ€™insÃ©mination</label>
        <input type="date" class="form-control"
               [(ngModel)]="vache.date_insimination"
               name="date_insimination" />
      </div>

      <div class="form-group">
        <label>Date de la taghriz</label>
        <input type="date" class="form-control"
               [(ngModel)]="vache.date_taghriz"
               name="date_taghriz" />
      </div>

      <div class="form-group">
        <label>Historique mÃ©dical </label>

            <!-- Image historique -->
  <div *ngIf="vache?.historique_medical_url" class="medical-preview">
    <img 
      [attr.src]="'http://localhost:5000' + vache.historique_medical_url"
      alt="Historique mÃ©dical"
      class="medical-img" />
  </div>
  
        <input type="file" class="form-control"
               (change)="file = $any($event.target).files[0]" />
      </div>

      <button type="submit" class="btn btn-primary"
              [disabled]="saving || !cowDetailForm.valid">
        <span *ngIf="!saving">ğŸ’¾ Enregistrer</span>
        <span *ngIf="saving">Enregistrement...</span>
      </button>
    </form>



  </div>
</div>
