{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet MilkFormComponent = class MilkFormComponent {\n  constructor(milk) {\n    this.milk = milk;\n    this.today = new Date().toISOString().split('T')[0];\n    this.model = {\n      date: '',\n      quantite_lait_matin: 0,\n      quantite_lait_soir: 0,\n      remarque: ''\n    };\n    this.saving = false;\n  }\n  ngOnInit() {\n    if (!this.model.date) {\n      this.model.date = this.today;\n    }\n  }\n  submit() {\n    this.saving = true;\n    this.error = undefined;\n    const p = {\n      date: this.model.date,\n      quantite_lait_matin: Number(this.model.quantite_lait_matin || 0),\n      quantite_lait_soir: Number(this.model.quantite_lait_soir || 0),\n      remarque: this.model.remarque || null\n    };\n    this.milk.create(this.vacheId, p).subscribe({\n      next: () => {\n        this.saving = false;\n        this.model = {\n          date: '',\n          quantite_lait_matin: 0,\n          quantite_lait_soir: 0,\n          remarque: ''\n        };\n      },\n      error: e => {\n        this.error = e?.error?.msg || 'Erreur';\n        this.saving = false;\n      }\n    });\n  }\n};\n__decorate([Input()], MilkFormComponent.prototype, \"vacheId\", void 0);\nMilkFormComponent = __decorate([Component({\n  selector: 'app-milk-form',\n  templateUrl: './milk-form.component.html',\n  styleUrls: ['./milk-form.component.css']\n})], MilkFormComponent);\nexport { MilkFormComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}